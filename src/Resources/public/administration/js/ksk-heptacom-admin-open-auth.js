/*! For license information please see ksk-heptacom-admin-open-auth.js.LICENSE.txt */
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=(window.__sw__.assetPath + '/bundles/kskheptacomadminopenauth/'),n(n.s="0qf1")}({"0qf1":function(e,t,n){"use strict";n.r(t);n("RLLC");Shopware.Component.register("heptacom-admin-open-auth-scope-field",{inheritAttrs:!1,template:'{% block heptacom_admin_open_auth_scope_field %}\n    <div class="heptacom-admin-open-auth-scope-field">\n        {% block heptacom_admin_open_auth_scope_field_confirm %}\n            <sw-confirm-field\n                v-bind="exceptInput($attrs)"\n                v-on="exceptInput($listeners)"\n                :preventEmptySubmit="true"\n                @input="addItem"\n                ref="confirmField"\n            ></sw-confirm-field>\n        {% endblock %}\n\n        {% block heptacom_admin_open_auth_scope_field_default_scopes_grid %}\n            <sw-grid\n                :header="false"\n                :selectable="false"\n                :table="true"\n                :items="defaultScopeItems">\n                {% block heptacom_admin_open_auth_scope_field_default_scopes_grid_inner %}\n                {% endblock %}\n\n                <template slot="columns" slot-scope="{ item }">\n                    {% block heptacom_admin_open_auth_scope_field_default_scopes_grid_columns %}\n                        {% block heptacom_admin_open_auth_scope_field_default_scopes_grid_columns_name %}\n                            <sw-grid-column>\n                                {{ item.name }}\n                            </sw-grid-column>\n                        {% endblock %}\n                    {% endblock %}\n                </template>\n            </sw-grid>\n        {% endblock %}\n\n        {% block heptacom_admin_open_auth_scope_field_items_grid %}\n            <sw-grid\n                :header="false"\n                :selectable="false"\n                :table="true"\n                :items="innerValue">\n                {% block heptacom_admin_open_auth_scope_field_items_grid_inner %}\n                {% endblock %}\n\n                <template slot="columns" slot-scope="{ item }">\n                    {% block heptacom_admin_open_auth_scope_field_items_grid_columns %}\n                        {% block heptacom_admin_open_auth_scope_field_items_grid_columns_name %}\n                            <sw-grid-column\n                                flex="1fr"\n                            >\n                                {{ item.name }}\n                            </sw-grid-column>\n                        {% endblock %}\n\n                        {% block heptacom_admin_open_auth_scope_field_items_grid_columns_actions %}\n                            <sw-grid-column\n                                align="right"\n                                flex="auto"\n                            >\n                                {% block heptacom_admin_open_auth_scope_field_items_grid_columns_actions_remove %}\n                                    <sw-button\n                                        @click="removeItem(item.name)"\n                                        size="x-small"\n                                        variant="danger"\n                                        square\n                                    >\n                                        <sw-icon\n                                            name="regular-minus-xs"\n                                            small\n                                        ></sw-icon>\n                                    </sw-button>\n                                {% endblock %}\n                            </sw-grid-column>\n                        {% endblock %}\n                    {% endblock %}\n                </template>\n            </sw-grid>\n        {% endblock %}\n    </div>\n{% endblock %}\n',props:{value:{required:!0,type:Array},defaultScopes:{required:!1,type:Array,default:function(){return[]}}},data:function(){var e=this;return{innerValue:this.value.filter((function(t){return-1===e.defaultScopes.indexOf(t)})).map((function(e){return{name:e}}))}},watch:{value:function(e){this.items=e}},computed:{defaultScopeItems:function(){return this.defaultScopes.map((function(e){return{name:e}}))},items:{get:function(){return this.innerValue.map((function(e){return e.name}))},set:function(e){this.innerValue=e.map((function(e){return{name:e}}))}}},methods:{addItem:function(e){this.isDefaultScope(e)||(this.innerValue=this.innerValue.filter((function(t){return t.name!==e})),this.innerValue.push({name:e}),this.$emit("input",this.items))},removeItem:function(e){this.innerValue=this.innerValue.filter((function(t){return t.name!==e})),this.$emit("input",this.items)},exceptInput:function(e){return e&&e.hasOwnProperty?Object.keys(e).reduce((function(t,n){return"input"!==n&&(t[n]=e[n]),t}),{}):e},isDefaultScope:function(e){return-1!==this.defaultScopes.findIndex((function(t){return t===e}))}}});n("eq75");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=Shopware,l=c.Component,s=c.Context,d="HeptacomAdminOpenAuthConfirmState";l.register("heptacom-admin-open-auth-user-confirm-login",{template:'{% block heptacom_admin_open_auth_user_confirm %}\n    <div class="heptacom-admin-open-auth-user-confirm-login">\n        <sw-loader\n            v-if="loading"\n        ></sw-loader>\n        <template v-else>\n            <sw-loader\n                v-if="waitingForConfirmation"\n            ></sw-loader>\n            <sw-card-section\n                class="heptacom-admin-open-auth-user-confirm-login--clients"\n                divider="bottom"\n                v-if="clients.length > 0"\n            >\n                <sw-button\n                    v-for="client of clients"\n                    :key="client.id"\n                    block\n                    @click="startAuthFlow(client)"\n                >\n                    {{ $t(\'heptacom-admin-open-auth-user-confirm-login.confirmWith\', {\n                        \'clientName\': client.name\n                    }) }}\n                    <sw-icon\n                        name="regular-external-link-s"\n                        small\n                    ></sw-icon>\n                </sw-button>\n            </sw-card-section>\n        </template>\n    </div>\n{% endblock %}\n',inject:["loginService","repositoryFactory"],data:function(){return{loading:!0,clients:[],waitingForConfirmation:!1,confirmationClient:null}},computed:{heptacomAdminOpenAuthClientsRepository:function(){return this.repositoryFactory.create("heptacom_admin_open_auth_client")},httpClient:function(){return this.heptacomAdminOpenAuthClientsRepository.httpClient}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.loadClients()},loadClients:function(){var e=this;this.loading=!0,this.clients=[],this.getConnectedClients().then((function(t){e.clients=t})).finally((function(){e.loading=!1}))},startAuthFlow:function(e){var t=this;this.waitingForConfirmation=!0,this.confirmationClient=e,localStorage.removeItem(d),this.getConfirmRedirectUrl(e.id).then((function(n){var i=Math.floor((screen.width-600)/2),o=Math.floor((screen.height-600)/2),a=window.open(n,t.$t("heptacom-admin-open-auth-user-confirm-login.confirmWith",{clientName:e.name}),"location=0,status=0,width=600,height=600, top=".concat(o,", left=").concat(i)),r=window.setInterval((function(){if(!t.waitingForConfirmation)return window.clearInterval(r),void a.close();if(a.closed){window.clearInterval(r),t.waitingForConfirmation=!1;var e=localStorage.getItem(d);e&&t.verifyByState(JSON.parse(e).state)}}),1e3)}))},abortAuthFlow:function(){this.confirmationClient=null,this.waitingForConfirmation=!1},getConnectedClients:function(){var e=this.heptacomAdminOpenAuthClientsRepository.buildHeaders(s.api);return this.httpClient.get("/_admin/open-auth/client/list",{headers:e}).then((function(e){return e.data.data.filter((function(e){return e.connected}))}))},getConfirmRedirectUrl:function(e){var t=this.heptacomAdminOpenAuthClientsRepository.buildHeaders(s.api);return this.httpClient.get("/_admin/open-auth/".concat(e,"/confirm"),{headers:t}).then((function(e){return e.data.target}))},verifyByState:function(e){var t=this;this.httpClient.post("/oauth/token",{grant_type:"heptacom_admin_open_auth_one_time_token",client_id:"administration",scope:"user-verified",one_time_token:e},{baseURL:s.api.apiPath}).then((function(e){var n=a({},s.api);n.authToken.access=e.data.access_token;var i=a(a({},t.loginService.getBearerAuthentication()),{access:n.authToken.access});t.loginService.setBearerAuthentication(i),t.$emit("confirm",n)}))}}});function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){m=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,r=Object.create(a.prototype),c=new S(o||[]);return i(r,"_invoke",{value:A(e,n,c)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function h(){}function f(){}function _(){}var g={};l(g,a,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(P([])));b&&b!==t&&n.call(b,a)&&(g=b);var y=_.prototype=h.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(i,a,r,c){var l=d(e[i],e,a);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==p(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){o("next",e,r,c)}),(function(e){o("throw",e,r,c)})):t.resolve(m).then((function(e){s.value=e,r(s)}),(function(e){return o("throw",e,r,c)}))}c(l.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){o(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function A(e,t,n){var i="suspendedStart";return function(o,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=d(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function C(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),u;var o=d(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=_,i(y,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:f,configurable:!0}),f.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(k.prototype),l(k.prototype,r,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,i,o,a){void 0===a&&(a=Promise);var r=new k(s(t,n,i,o),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},w(y),l(y,c,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return r.type="throw",r.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],r=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function u(e,t,n,i,o,a,r){try{var c=e[a](r),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(i,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){u(a,i,o,r,c,"next",e)}function c(e){u(a,i,o,r,c,"throw",e)}r(void 0)}))}}var f=Shopware,_=f.Component,g=f.Context;_.override("sw-profile-index-general",{template:'{% block sw_profile_index_general_password %}\n    {% parent %}\n\n    {% block sw_profile_index_admin_open_auth %}\n        <sw-card\n            position-identifier="heptacom-admin-open-auth-user-profile-sso"\n            :title="$tc(\'sw-profile-index.titleHeptacomAdminOpenAuthCard\')"\n            :isLoading="isUserLoading || !languageId"\n        >\n            {% block sw_profile_index_admin_open_auth_clients %}\n                <template>\n                    {% block sw_profile_index_admin_open_auth_clients_cards %}\n                        <sw-container rows="1fr">\n                            <sw-card-section\n                                v-for="client of heptacomAdminOpenAuthClients"\n                                :key="client.id"\n                                :slim="true"\n                                divider="bottom"\n                            >\n                                {% block sw_profile_index_admin_open_auth_clients_cards_item %}\n                                    <sw-container columns="1fr auto">\n                                        {% block sw_profile_index_admin_open_auth_clients_cards_item_provider %}\n                                            <div>\n                                                {{ client.name }}\n                                            </div>\n                                        {% endblock %}\n\n                                        {% block sw_profile_index_admin_open_auth_clients_cards_item_action %}\n                                            <sw-button\n                                                v-if="client.connected"\n                                                @click="revokeHeptacomAdminOpenAuthUserKey(client.id)"\n                                                icon="regular-minus"\n                                            >\n                                                {{ $t(\'sw-profile-index.heptacomAdminOpenAuth.userKeys.actions.revoke\') }}\n                                            </sw-button>\n                                            <sw-button\n                                                v-else-if="!client.connected"\n                                                @click="redirectToLoginMask(client.id)"\n                                                icon="regular-plus"\n                                            >\n                                                {{ $t(\'sw-profile-index.heptacomAdminOpenAuth.userKeys.actions.connect\') }}\n                                            </sw-button>\n                                        {% endblock %}\n                                    </sw-container>\n                                {% endblock %}\n                            </sw-card-section>\n                        </sw-container>\n                    {% endblock %}\n                </template>\n            {% endblock %}\n        </sw-card>\n    {% endblock %}\n{% endblock %}\n',inject:["repositoryFactory"],data:function(){return{heptacomAdminOpenAuthLoading:!0,heptacomAdminOpenAuthClients:[]}},computed:{heptacomAdminOpenAuthClientsRepository:function(){return this.repositoryFactory.create("heptacom_admin_open_auth_client")},heptacomAdminOpenAuthHttpClient:function(){return this.heptacomAdminOpenAuthClientsRepository.httpClient}},watch:{isUserLoading:{handler:function(){this.loadHeptacomAdminOpenAuth().then()}},languages:{handler:function(){this.loadHeptacomAdminOpenAuth().then()}}},methods:{loadHeptacomAdminOpenAuth:function(){var e=this;return h(m().mark((function t(){var n,i;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isUserLoading&&e.languages){t.next=2;break}return t.abrupt("return");case 2:return e.heptacomAdminOpenAuthLoading=!0,e.heptacomAdminOpenAuthClients=[],n=e.heptacomAdminOpenAuthClientsRepository.buildHeaders(g.api),t.next=7,e.heptacomAdminOpenAuthHttpClient.get("/_admin/open-auth/client/list",{headers:n});case 7:i=t.sent,e.heptacomAdminOpenAuthClients=i.data.data,e.heptacomAdminOpenAuthLoading=!1;case 10:case"end":return t.stop()}}),t)})))()},redirectToLoginMask:function(e){var t=this;return h(m().mark((function n(){var i,o;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.heptacomAdminOpenAuthClientsRepository.buildHeaders(g.api),n.next=3,t.heptacomAdminOpenAuthHttpClient.post("/_action/open-auth/".concat(e,"/connect"),{},{headers:i});case 3:o=n.sent,window.location.href=o.data.target;case 5:case"end":return n.stop()}}),n)})))()},revokeHeptacomAdminOpenAuthUserKey:function(e){var t=this;return h(m().mark((function n(){var i;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.heptacomAdminOpenAuthClientsRepository.buildHeaders(g.api),n.next=3,t.heptacomAdminOpenAuthHttpClient.post("/_action/open-auth/".concat(e,"/disconnect"),{},{headers:i});case 3:return n.next=5,t.loadHeptacomAdminOpenAuth();case 5:case"end":return n.stop()}}),n)})))()}}});Shopware.Component.override("sw-verify-user-modal",{template:'{% block sw_settings_user_detail_content_confirm_password_modal_input__confirm_password %}\n    <heptacom-admin-open-auth-user-confirm-login\n        ref="heptacomAdminOpenAuthUserConfirmLogin"\n        @confirm="heptacomAdminOpenAuthUserConfirm"\n    ></heptacom-admin-open-auth-user-confirm-login>\n\n    {% parent %}\n{% endblock %}\n',methods:{onCloseConfirmPasswordModal:function(){return this.$refs.heptacomAdminOpenAuthUserConfirmLogin.abortAuthFlow(),this.$super("onCloseConfirmPasswordModal")},heptacomAdminOpenAuthUserConfirm:function(e){this.$emit("verified",e)}}});n("KnEA"),n("MQGL");Shopware.Component.register("heptacom-admin-open-auth-client-create-page",{template:'{% block heptacom_admin_open_auth_client_create_page %}\n    <sw-page\n        :showSmartBar="false"\n        :showSearchBar="false"\n        class="heptacom-admin-open-auth-client-create-page"\n    >\n        {% block heptacom_admin_open_auth_client_create_page_inner %}{% endblock %}\n\n        {% block heptacom_admin_open_auth_client_create_page_content %}\n            <template #content>\n                <template\n                    v-if="isLoading"\n                >\n                    {% block heptacom_admin_open_auth_client_create_page_content_loader %}\n                        <sw-loader></sw-loader>\n                    {% endblock %}\n                </template>\n                <template\n                    v-else\n                >\n                    {% block heptacom_admin_open_auth_client_create_page_content_providers %}\n                        <sw-card-view class="heptacom-admin-open-auth-client-create_card-view">\n                            {% block heptacom_admin_open_auth_client_create_page_content_providers_list %}\n                                <sw-card\n                                    v-for="provider of items"\n                                    :key="provider.key"\n                                    :title="provider.label"\n                                    :classes="provider.classes"\n                                    :position-identifier="\'heptacom-admin-open-auth-client-create-provider-\' + provider.key"\n                                >\n                                    {% block heptacom_admin_open_auth_client_create_page_content_providers_list_item %}\n                                        {% block heptacom_admin_open_auth_client_create_page_content_providers_list_item_logo %}\n                                            <div class="logo">\n                                                <img :src="\'/kskheptacomadminopenauth/static/logo/\'+provider.logoFile | asset">\n                                            </div>\n                                        {% endblock %}\n\n                                        {% block heptacom_admin_open_auth_client_create_page_content_providers_list_item_action %}\n                                            <sw-button\n                                                @click="createClient(provider)"\n                                                class="heptacom-admin-open-auth-client-create-page-providers-provider--action"\n                                                variant="ghost"\n                                                block\n                                            >\n                                                {{ provider.actionLabel }}\n                                            </sw-button>\n                                        {% endblock %}\n                                    {% endblock %}\n                                </sw-card>\n                            {% endblock %}\n                        </sw-card-view>\n                    {% endblock %}\n                </template>\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n',inject:["HeptacomAdminOpenAuthProviderApiService"],data:function(){return{isLoading:!0,items:null}},created:function(){this.loadData()},methods:{loadData:function(){var e=this;this.isLoading=!0,this.loadProviders().then((function(){e.isLoading=!1}))},loadProviders:function(){var e=this;return this.items=[],this.HeptacomAdminOpenAuthProviderApiService.list().then((function(t){e.items=t.data.map((function(t){return{key:t,label:e.$t("heptacomAdminOpenAuthClient.providers.".concat(t,".label")),logoFile:e.$t("heptacomAdminOpenAuthClient.providers.".concat(t,".logoFile")),actionLabel:e.$te(".heptacomAdminOpenAuthClient.providersCreate.".concat(t))?e.$t("heptacomAdminOpenAuthClient.providersCreate.".concat(t)):e.$t("heptacom-admin-open-auth-client.pages.create.actions.create"),classes:["heptacom-admin-open-auth-client-create-page-providers-provider","heptacom-admin-open-auth-client-create-page-providers--provider-".concat(t)]}})).sort((function(e,t){return e.label.localeCompare(t.label)})),e.isLoading=!1}))},createClient:function(e){var t=this;return this.HeptacomAdminOpenAuthProviderApiService.factorize(e.key).then((function(e){t.$router.push({name:"heptacom.admin.open.auth.client.edit",params:{id:e.data.id}})}))}}});function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){b=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var a=t&&t.prototype instanceof m?t:m,r=Object.create(a.prototype),c=new S(o||[]);return i(r,"_invoke",{value:A(e,n,c)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function m(){}function u(){}function h(){}var f={};l(f,a,(function(){return this}));var _=Object.getPrototypeOf,g=_&&_(_(P([])));g&&g!==t&&n.call(g,a)&&(f=g);var y=h.prototype=m.prototype=Object.create(f);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(i,a,r,c){var l=d(e[i],e,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==v(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,r,c)}),(function(e){o("throw",e,r,c)})):t.resolve(p).then((function(e){s.value=e,r(s)}),(function(e){return o("throw",e,r,c)}))}c(l.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){o(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function A(e,t,n){var i="suspendedStart";return function(o,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var r=n.delegate;if(r){var c=C(r,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=d(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function C(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return u.prototype=h,i(y,"constructor",{value:h,configurable:!0}),i(h,"constructor",{value:u,configurable:!0}),u.displayName=l(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(k.prototype),l(k.prototype,r,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,i,o,a){void 0===a&&(a=Promise);var r=new k(s(t,n,i,o),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},w(y),l(y,c,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return r.type="throw",r.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],r=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function y(e,t,n,i,o,a,r){try{var c=e[a](r),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(i,o)}var w=Shopware,k=w.Component,A=w.Context,C=w.Mixin,O=w.Data.Criteria;k.register("heptacom-admin-open-auth-client-edit-page",{template:'{% block heptacom_admin_open_auth_client_edit_page %}\n    <sw-page\n        :showSearchBar="false"\n        class="heptacom-admin-open-auth-client-edit-page"\n    >\n        {% block heptacom_admin_open_auth_client_edit_page_inner %}\n        {% endblock %}\n\n        {% block heptacom_admin_open_auth_client_edit_page_smart_bar_header %}\n            <template #smart-bar-header>\n                {{ dynamicName }}\n            </template>\n        {% endblock %}\n\n        {% block heptacom_admin_open_auth_client_edit_page_search_bar_actions %}\n            <template #smart-bar-actions>\n                {% block heptacom_admin_open_auth_client_edit_page_search_bar_actions_help %}\n                    <sw-button\n                        :disabled="isLoading"\n                        :isLoading="isLoading"\n                        :link="item ? $t(\'heptacomAdminOpenAuthClient.providers.\' + item.provider + \'.helpUrl\') : \'\'"\n                    >\n                        <sw-icon name="regular-external-link" small></sw-icon>\n                        {{ $t(\'heptacom-admin-open-auth-client.pages.edit.actions.help\') }}\n                    </sw-button>\n                {% endblock %}\n\n                {% block heptacom_admin_open_auth_client_edit_page_search_bar_actions_delete %}\n                    <sw-button\n                        v-if="acl.can(\'heptacom_admin_open_auth_client.deleter\')"\n                        :disabled="isLoading"\n                        @click="showDeleteModal = true"\n                        variant="danger"\n                    >\n                        {{ $t(\'heptacom-admin-open-auth-client.pages.edit.actions.delete\') }}\n                    </sw-button>\n                {% endblock %}\n\n                {% block heptacom_admin_open_auth_client_edit_page_search_bar_actions_cancel %}\n                    <sw-button\n                        :disabled="isLoading"\n                        @click="cancelEdit"\n                    >\n                        {{ $t(\'heptacom-admin-open-auth-client.pages.edit.actions.cancel\') }}\n                    </sw-button>\n                {% endblock %}\n\n                {% block heptacom_admin_open_auth_client_edit_page_search_bar_actions_save %}\n                    <sw-button-process\n                        :disabled="isLoading"\n                        :isLoading="isLoading"\n                        @click.prevent="saveItem"\n                        v-model="isSaveSuccessful"\n                        variant="primary"\n                    >\n                        {{ $t(\'heptacom-admin-open-auth-client.pages.edit.actions.save\') }}\n                    </sw-button-process>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block heptacom_admin_open_auth_client_edit_page_content %}\n            <template #content>\n                <sw-card-view>\n                    {% block heptacom_admin_open_auth_client_edit_page_content_base_settings %}\n                        <sw-card\n                            :isLoading="isLoading"\n                            position-identifier="heptacom-admin-open-auth-client-edit-page-base-settings"\n                        >\n                            <template v-if="item">\n                                {% block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner %}\n                                    {% block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner_name %}\n                                        <sw-text-field\n                                            :label="$t(\'heptacom-admin-open-auth-client.pages.edit.fields.name\')"\n                                            v-model="item.name"\n                                        ></sw-text-field>\n                                    {% endblock %}\n                                    {% block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner_active %}\n                                        <sw-switch-field\n                                            :label="$t(\'heptacom-admin-open-auth-client.pages.edit.fields.active\')"\n                                            v-model="item.active"\n                                        ></sw-switch-field>\n                                    {% endblock %}\n                                    {% block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner_can_login %}\n                                        <sw-switch-field\n                                            :disabled="!item.active"\n                                            :label="$t(\'heptacom-admin-open-auth-client.pages.edit.fields.login\')"\n                                            v-model="item.login"\n                                        ></sw-switch-field>\n                                    {% endblock %}\n                                    {% block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner_can_connect %}\n                                        <sw-switch-field\n                                            :disabled="!item.active"\n                                            :label="$t(\'heptacom-admin-open-auth-client.pages.edit.fields.connect\')"\n                                            v-model="item.connect"\n                                        ></sw-switch-field>\n                                    {% endblock %}\n                                    {% block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner_user_become_admin %}\n                                        <sw-switch-field\n                                            :disabled="!item.active"\n                                            :label="$t(\'heptacom-admin-open-auth-client.pages.edit.fields.userBecomeAdmin\')"\n                                            v-model="item.userBecomeAdmin"\n                                        ></sw-switch-field>\n                                    {% endblock %}\n                                    {% block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner_default_acl_roles %}\n                                        <sw-entity-multi-select\n                                            v-if="!item.userBecomeAdmin"\n                                            :disabled="!item.active"\n                                            v-model="item.defaultAclRoles"\n                                            :label="$t(\'heptacom-admin-open-auth-client.pages.edit.fields.defaultAclRoles\')"\n                                            entityName="acl_role"\n                                        ></sw-entity-multi-select>\n                                    {% endblock %}\n                                    {% block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner_store_user_token %}\n                                        <sw-switch-field\n                                            :disabled="!item.active"\n                                            :label="$t(\'heptacom-admin-open-auth-client.pages.edit.fields.storeUserToken\')"\n                                            v-model="item.storeUserToken"\n                                        ></sw-switch-field>\n                                    {% endblock %}\n                                    {% block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner_keep_user_updated %}\n                                        <sw-switch-field\n                                            :disabled="!item.active"\n                                            :label="$t(\'heptacom-admin-open-auth-client.pages.edit.fields.keepUserUpdated\')"\n                                            v-model="item.keepUserUpdated"\n                                        ></sw-switch-field>\n                                    {% endblock %}\n                                    {% block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner_redirect_uri %}\n                                        <sw-text-field\n                                            v-if="redirectUri"\n                                            :copyable="true"\n                                            :copyableTooltip="true"\n                                            :label="$t(\'heptacom-admin-open-auth-client.pages.edit.fields.redirectUri\')"\n                                            :value="redirectUri"\n                                            disabled\n                                        ></sw-text-field>\n                                    {% endblock %}\n                                    {% block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner_metadata_uri %}\n                                        <sw-text-field\n                                            v-if="metadataUri"\n                                            :copyable="true"\n                                            :copyableTooltip="true"\n                                            :label="$t(\'heptacom-admin-open-auth-client.pages.edit.fields.metadataUri\')"\n                                            :value="metadataUri"\n                                            disabled\n                                        ></sw-text-field>\n                                    {% endblock %}\n                                {% endblock %}\n                            </template>\n                        </sw-card>\n                    {% endblock %}\n\n                    {% block heptacom_admin_open_auth_client_edit_page_content_provider_settings %}\n                        <component\n                            v-if="item && item.provider"\n                            :is="providerSettingsComponent"\n                            v-bind="providerSettingsProps"\n                        ></component>\n                    {% endblock %}\n                </sw-card-view>\n\n                {% block heptacom_admin_open_auth_client_edit_page_content_modal_delete %}\n                    <sw-modal\n                        v-if="showDeleteModal"\n                        :title="$t(\'heptacom-admin-open-auth-client.pages.edit.modals.delete.title\')"\n                        @modal-close="showDeleteModal = false"\n                        variant="small"\n                    >\n                        {% block heptacom_admin_open_auth_client_edit_page_content_modal_delete_confirm_text %}\n                            <p>\n                                {{ $t(\'heptacom-admin-open-auth-client.pages.edit.modals.delete.warning\') }}\n                            </p>\n                            <p>\n                                <strong>{{ dynamicName }}</strong>\n                            </p>\n                            <p>\n                                {{ $t(\'heptacom-admin-open-auth-client.pages.edit.modals.delete.explanation\') }}\n                            </p>\n                        {% endblock %}\n\n                        {% block heptacom_admin_open_auth_client_edit_page_content_modal_delete_footer %}\n                            <template #modal-footer>\n                                {% block heptacom_admin_open_auth_client_edit_page_content_modal_delete_abort %}\n                                    <sw-button\n                                        size="small"\n                                        @click="showDeleteModal = false"\n                                    >\n                                        {{ $t(\'heptacom-admin-open-auth-client.pages.edit.modals.delete.cancel\') }}\n                                    </sw-button>\n                                {% endblock %}\n\n                                {% block heptacom_admin_open_auth_client_edit_page_content_modal_delete_delete %}\n                                    <sw-button\n                                        size="small"\n                                        variant="danger"\n                                        @click="onConfirmDelete"\n                                    >\n                                        {{ $t(\'heptacom-admin-open-auth-client.pages.edit.modals.delete.confirm\') }}\n                                    </sw-button>\n                                {% endblock %}\n                            </template>\n                        {% endblock %}\n                    </sw-modal>\n                {% endblock %}\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n',inject:["acl","repositoryFactory","HeptacomAdminOpenAuthProviderApiService"],mixins:[C.getByName("placeholder"),C.getByName("notification")],props:{clientId:{required:!0,type:String}},data:function(){return{isLoading:!0,isSaveSuccessful:!1,item:null,showDeleteModal:!1,redirectUri:null,metadataUri:null}},created:function(){this.loadData()},computed:{dynamicName:function(){return this.placeholder(this.item,"name",this.$t("heptacom-admin-open-auth-client.pages.edit.title"))},clientRepository:function(){return this.repositoryFactory.create("heptacom_admin_open_auth_client")},providerSettingsComponent:function(){var e=(this.item&&this.item.provider?this.item.provider:"").replace(/_/g,"-");return"heptacom-admin-open-auth-provider-".concat(e,"-settings")},providerSettingsProps:function(){return{item:this.item}}},methods:{loadData:function(){var e=this;this.isLoading=!0,this.loadClient().finally((function(){e.isLoading=!1}))},loadClient:function(){var e,t=this;return(e=b().mark((function e(){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.item=null,(n=new O).addAssociation("defaultAclRoles"),e.next=5,t.clientRepository.get(t.clientId,A.api,n);case 5:return t.item=e.sent,e.next=8,t.HeptacomAdminOpenAuthProviderApiService.getRedirectUri(t.item.id);case 8:return t.redirectUri=e.sent.target,e.next=11,t.HeptacomAdminOpenAuthProviderApiService.getMetadataUri(t.item.id);case 11:t.metadataUri=e.sent.target;case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){y(a,i,o,r,c,"next",e)}function c(e){y(a,i,o,r,c,"throw",e)}r(void 0)}))})()},cancelEdit:function(){this.$router.push({name:this.$route.meta.parentPath})},saveItem:function(){var e=this;this.isLoading=!0,this.clientRepository.save(this.item,A.api).then((function(){return e.isSaveSuccessful=!0,e.loadData()})).catch((function(t){var n=e.client.name;throw e.createNotificationError({title:e.$tc("global.notification.notificationSaveErrorTitle"),message:e.$tc("global.notification.notificationSaveErrorMessage",0,{entityName:n})}),t})).finally((function(){e.isLoading=!1}))},onConfirmDelete:function(){var e=this;return this.showDeleteModal=!1,this.isLoading=!0,this.clientRepository.delete(this.item.id,A.api).then((function(){e.$router.push({name:"heptacom.admin.open.auth.client.settings"})})).catch((function(t){var n=e.client.name;throw e.createNotificationError({title:e.$tc("global.notification.notificationSaveErrorTitle"),message:e.$tc("global.notification.notificationSaveErrorMessage",0,{entityName:n})}),t})).finally((function(){e.isLoading=!1}))}}});n("zpZA");var x=Shopware,S=x.Component,P=x.Context,L=x.Data,$=x.Mixin,M=L.Criteria;S.register("heptacom-admin-open-auth-client-listing-page",{template:'{% block heptacom_admin_open_auth_client_listing_page %}\n    <sw-page class="heptacom-admin-open-auth-client-listing-page">\n        {% block heptacom_admin_open_auth_client_listing_page_inner %}\n        {% endblock %}\n\n        {% block heptacom_admin_open_auth_client_listing_page_search_bar %}\n            <template #search-bar>\n                <sw-search-bar\n                    :initialSearch="term"\n                    @search="onSearch"\n                    initialSearchType="heptacom_admin_open_auth_client"\n                ></sw-search-bar>\n            </template>\n        {% endblock %}\n\n        {% block heptacom_admin_open_auth_client_listing_page_search_bar_actions %}\n            <template #smart-bar-actions>\n                <sw-button\n                    v-if="acl.can(\'heptacom_admin_open_auth_client.creator\')"\n                    :routerLink="{ name: \'heptacom.admin.open.auth.client.create\' }"\n                    variant="primary"\n                >\n                    {{ $t(\'heptacom-admin-open-auth-client.pages.listing.actions.create\') }}\n                </sw-button>\n            </template>\n        {% endblock %}\n\n        {% block heptacom_admin_open_auth_client_listing_page_content %}\n            <template #content>\n                {% block heptacom_admin_open_auth_client_listing_page_content_entity_listing %}\n                    <sw-entity-listing\n                        v-if="items"\n                        :items="items"\n                        :repository="clientRepository"\n                        :showSelection="false"\n                        :columns="columns"\n                        :isLoading="!isLoading"\n                        :showActions="false"\n                    >\n                        {% block heptacom_admin_open_auth_client_listing_page_content_entity_listing_inner %}\n                        {% endblock %}\n\n                        {% block heptacom_admin_open_auth_client_listing_page_content_entity_listing_columns_active %}\n                            <template #column-active="{ item }">\n                                <sw-icon\n                                    :color="getLoginColor(item)"\n                                    name="regular-sign-in"\n                                    small\n                                ></sw-icon>\n                                <sw-icon\n                                    :color="getConnectColor(item)"\n                                    name="regular-share"\n                                    small\n                                ></sw-icon>\n                            </template>\n                        {% endblock %}\n\n                        {% block heptacom_admin_open_auth_client_listing_page_content_entity_listing_columns_created_at %}\n                            <template #column-createdAt="{ item }">\n                                {{ item.createdAt | date({ hour: \'2-digit\', minute: \'2-digit\' }) }}\n                            </template>\n                        {% endblock %}\n\n                        {% block heptacom_admin_open_auth_client_listing_page_content_entity_listing_columns_provider %}\n                            <template #column-provider="{ item }">\n                                {{ $te(\'heptacomAdminOpenAuthClient.providers.\' + item.provider + \'.label\') ? $t(\'heptacomAdminOpenAuthClient.providers.\' + item.provider + \'.label\') : item.provider }}\n                            </template>\n                        {% endblock %}\n\n                        {% block heptacom_admin_open_auth_client_listing_page_content_entity_listing_pagination %}\n                            <template #pagination>\n                                <sw-pagination\n                                    :page="page"\n                                    :limit="limit"\n                                    :total="total"\n                                    :total-visible="7"\n                                    @page-change="onPageChange"\n                                ></sw-pagination>\n                            </template>\n                        {% endblock %}\n                    </sw-entity-listing>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block heptacom_admin_open_auth_client_listing_page_sidebar_container %}\n            <template #sidebar>\n                {% block heptacom_admin_open_auth_client_listing_page_sidebar %}\n                    <sw-sidebar>\n                        {% block heptacom_admin_open_auth_client_listing_page_sidebar_inner %}\n                        {% endblock %}\n\n                        {% block heptacom_admin_open_auth_client_listing_page_sidebar_refresh %}\n                            <sw-sidebar-item\n                                :title="$tc(\'heptacom-admin-open-auth-client.pages.listing.actions.refresh\')"\n                                @click="onRefresh"\n                                icon="regular-undo"\n                            ></sw-sidebar-item>\n                        {% endblock %}\n                    </sw-sidebar>\n                {% endblock %}\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n',inject:["acl","repositoryFactory"],mixins:[$.getByName("listing")],data:function(){return{isLoading:!0,items:null,columns:[{property:"active",label:this.$t("heptacom-admin-open-auth-client.pages.listing.columns.active"),allowResize:!1,width:"50px"},{property:"name",label:this.$t("heptacom-admin-open-auth-client.pages.listing.columns.name"),routerLink:"heptacom.admin.open.auth.client.edit"},{property:"provider",label:this.$t("heptacom-admin-open-auth-client.pages.listing.columns.provider")},{property:"userKeys.length",label:this.$t("heptacom-admin-open-auth-client.pages.listing.columns.users"),width:"100px"},{property:"createdAt",label:this.$t("heptacom-admin-open-auth-client.pages.listing.columns.createdAt"),width:"200px"}]}},created:function(){this.getList()},computed:{clientRepository:function(){return this.repositoryFactory.create("heptacom_admin_open_auth_client")},clientCriteria:function(){var e=new M,t=this.getMainListingParams();return e.addAssociation("userKeys"),e.setLimit(t.limit),e.setPage(t.page),e.addSorting(M.sort(t.sortBy||"name",t.sortDirection||"ASC")),t.term&&t.term.length&&e.addFilter(M.contains("name",t.term)),e}},methods:{getList:function(){return this.loadData()},loadData:function(){var e=this;this.isLoading=!0,this.loadClients().then((function(){e.isLoading=!1}))},loadClients:function(){var e=this;return this.items=null,this.clientRepository.search(this.clientCriteria,P.api).then((function(t){e.items=t}))},getLoginColor:function(e){return e.active?e.login?"#00cc00":"#cc0000":"#333333"},getConnectColor:function(e){return e.active?e.connect?"#00cc00":"#cc0000":"#333333"}}}),Shopware.Module.register("heptacom-admin-open-auth-client",{type:"plugin",name:"heptacom-admin-open-auth-client.module.name",title:"heptacom-admin-open-auth-client.module.title",description:"heptacom-admin-open-auth-client.module.description",color:"#FFC2A2",icon:"regular-sign-in",routes:{create:{component:"heptacom-admin-open-auth-client-create-page",path:"create",meta:{parentPath:"heptacom.admin.open.auth.client.settings",privilege:"heptacom_admin_open_auth_client.creator"}},edit:{component:"heptacom-admin-open-auth-client-edit-page",path:"edit/:id",meta:{parentPath:"heptacom.admin.open.auth.client.settings",privilege:"heptacom_admin_open_auth_client.editor"},props:{default:function(e){return{clientId:e.params.id}}}},settings:{component:"heptacom-admin-open-auth-client-listing-page",path:"settings",meta:{parentPath:"sw.settings.index",privilege:"heptacom_admin_open_auth_client.viewer"}}},settingsItem:[{to:"heptacom.admin.open.auth.client.settings",group:"system",icon:"regular-sign-in",privilege:"heptacom_admin_open_auth_client.viewer"}]});Shopware.Component.register("heptacom-admin-open-auth-provider-cidaas-settings",{template:'{% block heptacom_admin_open_auth_provider_cidaas_settings %}\n    <sw-card position-identifier="heptacom-admin-open-auth-provider-cidaas-settings">\n        <sw-url-field\n            required\n            :omitUrlHash="true"\n            :omitUrlSearch="true"\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.cidaas.organizationUrl\')"\n            placeholder="my-company.cidaas.eu"\n            v-model="item.config.organizationUrl"\n        ></sw-url-field>\n        <sw-text-field\n            required\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.cidaas.clientId\')"\n            v-model="item.config.clientId"\n        ></sw-text-field>\n        <sw-password-field\n            required\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.cidaas.clientSecret\')"\n            v-model="item.config.clientSecret"\n        ></sw-password-field>\n        <heptacom-admin-open-auth-scope-field\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.cidaas.additionalScopes\')"\n            v-model="item.config.scopes"\n        ></heptacom-admin-open-auth-scope-field>\n    </sw-card>\n{% endblock %}\n',props:{item:{required:!0}},watch:{item:function(e){e.config.scopes||(e.config.scopes=[])}}});Shopware.Component.register("heptacom-admin-open-auth-provider-google-cloud-settings",{template:'{% block heptacom_admin_open_auth_client_google_cloud_settings %}\n    <sw-card position-identifier="heptacom-admin-open-auth-provider-google-cloud-settings">\n        <sw-text-field\n            required\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.google_cloud.clientId\')"\n            v-model="item.config.clientId"\n        ></sw-text-field>\n        <sw-password-field\n            required\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.google_cloud.clientSecret\')"\n            v-model="item.config.clientSecret"\n        ></sw-password-field>\n        <heptacom-admin-open-auth-scope-field\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.google_cloud.additionalScopes\')"\n            v-model="item.config.scopes"\n        ></heptacom-admin-open-auth-scope-field>\n    </sw-card>\n{% endblock %}\n',props:{item:{required:!0}},watch:{item:function(e){e.config.scopes||(e.config.scopes=[])}}});Shopware.Component.register("heptacom-admin-open-auth-provider-jira-settings",{template:'{% block heptacom_admin_open_auth_provider_jira_settings %}\n    <sw-card position-identifier="heptacom-admin-open-auth-provider-jira-settings">\n        <sw-text-field\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.jira.clientId\')"\n            v-model="item.config.clientId"\n        ></sw-text-field>\n        <sw-password-field\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.jira.clientSecret\')"\n            v-model="item.config.clientSecret"\n        ></sw-password-field>\n        <heptacom-admin-open-auth-scope-field\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.jira.additionalScopes\')"\n            :defaultScopes="[\'read:me\', \'read:jira-user\', \'offline_access\']"\n            v-model="item.config.scopes"\n        ></heptacom-admin-open-auth-scope-field>\n    </sw-card>\n{% endblock %}\n',props:{item:{required:!0}}});Shopware.Component.register("heptacom-admin-open-auth-provider-jumpcloud-settings",{template:'{% block heptacom_admin_open_auth_provider_jumpcloud_settings %}\n    {% block heptacom_admin_open_auth_provider_jumpcloud_settings_idp %}\n        <sw-card\n            :title="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.identityProviderCardTitle\')"\n            position-identifier="heptacom-admin-open-auth-provider-jumpcloud-settings-idp"\n        >\n            \n            <sw-textarea-field\n                :disabled="!!item.config.identityProviderMetadataUrl"\n                :label="$t(\'heptacomAdminOpenAuthClient.providerFields.jumpcloud.identityProviderMetadataXml\')"\n                v-model="item.config.identityProviderMetadataXml"\n            ></sw-textarea-field>\n        </sw-card>\n    {% endblock %}\n\n    {% block heptacom_admin_open_auth_provider_jumpcloud_settings_attribute_mapping %}\n        <sw-card\n            :title="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.attributeMapping.cardTitle\')"\n            position-identifier="heptacom-admin-open-auth-provider-jumpcloud-settings-attribute-mapping"\n        >\n            {% block heptacom_admin_open_auth_provider_jumpcloud_settings_attribute_mapping_inner %}\n                <sw-text-field v-for="mappedProperty of availableProperties"\n                               :label="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.attributeMapping.field.\' + mappedProperty)"\n                               v-model="item.config.attributeMapping[mappedProperty]"\n                ></sw-text-field>\n            {% endblock %}\n        </sw-card>\n    {% endblock %}\n{% endblock %}\n',props:{item:{required:!0}},data:function(){return{availableProperties:["firstName","lastName","email","timezone","locale"]}},watch:{item:function(e){e.config.attributeMapping||(e.config.attributeMapping={})}}});Shopware.Component.override("heptacom-admin-open-auth-client-edit-page",{template:'{% block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner_store_user_token %}\n    <template v-if="!item || item.provider !== \'jumpcloud\'">\n        {% parent %}\n    </template>\n{% endblock %}\n\n{%  block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner %}\n    {% parent %}\n\n    <template v-if="item && item.provider === \'jumpcloud\'">\n        <sw-textarea-field\n            :disabled="true"\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.serviceProviderCertificate\')"\n            :help-text="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.serviceProviderCertificate-help\')"\n            v-model="item.config.serviceProviderCertificate"\n        ></sw-textarea-field>\n        <sw-textarea-field\n            :disabled="true"\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.serviceProviderPublicKey\')"\n            :help-text="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.serviceProviderPublicKey-help\')"\n            v-model="item.config.serviceProviderPublicKey"\n        ></sw-textarea-field>\n    </template>\n{% endblock %}\n\n',data:function(){return{availableProperties:["firstName","lastName","email","timezone","locale"]}},watch:{item:function(e){e&&"jumpcloud"===e.provider&&(e.config.attributeMapping||(e.config.attributeMapping={}))}}});Shopware.Component.register("heptacom-admin-open-auth-provider-keycloak-settings",{template:'{% block heptacom_admin_open_auth_provider_keycloak_settings %}\n    <sw-card position-identifier="heptacom-admin-open-auth-provider-keycloak-settings">\n        <sw-textarea-field\n            required\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.keycloak.keycloakOidcJson\')"\n            :placeholder="jsonPlaceholder"\n            v-model="item.config.keycloakOidcJson"\n        ></sw-textarea-field>\n        <heptacom-admin-open-auth-scope-field\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.keycloak.additionalScopes\')"\n            v-model="item.config.scopes"\n        ></heptacom-admin-open-auth-scope-field>\n    </sw-card>\n{% endblock %}\n',props:{item:{required:!0}},data:function(){return{jsonPlaceholder:JSON.stringify({realm:"master","auth-server-url":"https://keycloak.my-company.com/auth/","ssl-required":"external",resource:"my-client",credentials:{secret:"abcdefghijgklmnopqrstuvwxyz"},"confidential-port":0},null,"\t")}},watch:{item:function(e){e.config.scopes||(e.config.scopes=[])}}});Shopware.Component.register("heptacom-admin-open-auth-provider-microsoft-azure-oidc-settings",{template:'{% block heptacom_admin_open_auth_provider_microsoft_azure_oidc_settings %}\n    <sw-card position-identifier="heptacom-admin-open-auth-provider-microsoft-azure-oidc-settings">\n        <sw-text-field\n            required\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.microsoft_azure_oidc.tenantId\')"\n            v-model="item.config.tenantId"\n        ></sw-text-field>\n        <sw-text-field\n            required\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.microsoft_azure_oidc.clientId\')"\n            v-model="item.config.clientId"\n        ></sw-text-field>\n        <sw-password-field\n            required\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.microsoft_azure_oidc.clientSecret\')"\n            v-model="item.config.clientSecret"\n        ></sw-password-field>\n        <heptacom-admin-open-auth-scope-field\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.microsoft_azure_oidc.additionalScopes\')"\n            v-model="item.config.scopes"\n        ></heptacom-admin-open-auth-scope-field>\n    </sw-card>\n{% endblock %}\n',props:{item:{required:!0}},watch:{item:function(e){e.config.scopes||(e.config.scopes=[])}}});Shopware.Component.register("heptacom-admin-open-auth-provider-okta-settings",{template:'{% block heptacom_admin_open_auth_provider_okta_settings %}\n    <sw-card position-identifier="heptacom-admin-open-auth-provider-okta-settings">\n        <sw-url-field\n            required\n            :omitUrlHash="true"\n            :omitUrlSearch="true"\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.okta.organizationUrl\')"\n            placeholder="my-company.okta.com"\n            v-model="item.config.organizationUrl"\n        ></sw-url-field>\n        <sw-text-field\n            required\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.okta.clientId\')"\n            v-model="item.config.clientId"\n        ></sw-text-field>\n        <sw-password-field\n            required\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.okta.clientSecret\')"\n            v-model="item.config.clientSecret"\n        ></sw-password-field>\n        <heptacom-admin-open-auth-scope-field\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.okta.additionalScopes\')"\n            v-model="item.config.scopes"\n        ></heptacom-admin-open-auth-scope-field>\n    </sw-card>\n{% endblock %}\n',props:{item:{required:!0}},watch:{item:function(e){e.config.scopes||(e.config.scopes=[])}}});Shopware.Component.register("heptacom-admin-open-auth-provider-onelogin-settings",{template:'{% block heptacom_admin_open_auth_provider_onelogin_settings %}\n    <sw-card position-identifier="heptacom-admin-open-auth-provider-onelogin-settings">\n        <sw-url-field\n            required\n            :omitUrlHash="true"\n            :omitUrlSearch="true"\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.onelogin.organizationUrl\')"\n            placeholder="my-company.onelogin.com"\n            v-model="item.config.organizationUrl"\n        ></sw-url-field>\n        <sw-text-field\n            required\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.onelogin.clientId\')"\n            v-model="item.config.clientId"\n        ></sw-text-field>\n        <sw-password-field\n            required\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.onelogin.clientSecret\')"\n            v-model="item.config.clientSecret"\n        ></sw-password-field>\n        <heptacom-admin-open-auth-scope-field\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.onelogin.additionalScopes\')"\n            v-model="item.config.scopes"\n        ></heptacom-admin-open-auth-scope-field>\n    </sw-card>\n{% endblock %}\n',props:{item:{required:!0}},watch:{item:function(e){e.config.scopes||(e.config.scopes=[])}}});Shopware.Component.register("heptacom-admin-open-auth-provider-open-id-connect-settings",{template:'{% block heptacom_admin_open_auth_provider_open_id_connect_settings %}\n    <sw-card position-identifier="heptacom-admin-open-auth-provider-open-id-connect-settings">\n        <sw-url-field\n            :omitUrlHash="true"\n            :omitUrlSearch="true"\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.open_id_connect.discoveryDocumentUrl\')"\n            :help-text="$t(\'heptacomAdminOpenAuthClient.providerFields.open_id_connect.discoveryDocumentUrl-help\')"\n            :placeholder="$t(\'heptacomAdminOpenAuthClient.providerFields.open_id_connect.discoveryDocumentUrl-placeholder\')"\n            v-model="item.config.discoveryDocumentUrl"\n        ></sw-url-field>\n        <sw-url-field\n            :omitUrlHash="true"\n            :omitUrlSearch="true"\n            :disabled="!!item.config.discoveryDocumentUrl"\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.open_id_connect.authorization_endpoint\')"\n            v-model="item.config.authorization_endpoint"\n        ></sw-url-field>\n        <sw-url-field\n            :omitUrlHash="true"\n            :omitUrlSearch="true"\n            :disabled="!!item.config.discoveryDocumentUrl"\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.open_id_connect.token_endpoint\')"\n            v-model="item.config.token_endpoint"\n        ></sw-url-field>\n        <sw-url-field\n            :omitUrlHash="true"\n            :omitUrlSearch="true"\n            :disabled="!!item.config.discoveryDocumentUrl"\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.open_id_connect.userinfo_endpoint\')"\n            v-model="item.config.userinfo_endpoint"\n        ></sw-url-field>\n        <sw-text-field\n            :required="true"\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.open_id_connect.clientId\')"\n            v-model="item.config.clientId"\n        ></sw-text-field>\n        <sw-password-field\n            :required="true"\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.open_id_connect.clientSecret\')"\n            v-model="item.config.clientSecret"\n        ></sw-password-field>\n        <heptacom-admin-open-auth-scope-field\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.open_id_connect.additionalScopes\')"\n            v-model="item.config.scopes"\n        ></heptacom-admin-open-auth-scope-field>\n    </sw-card>\n{% endblock %}\n',props:{item:{required:!0}},watch:{item:function(e){e.config.scopes||(e.config.scopes=[])}}});Shopware.Component.register("heptacom-admin-open-auth-provider-saml2-settings",{template:'{% block heptacom_admin_open_auth_provider_saml2_settings %}\n    <div>\n        {% block heptacom_admin_open_auth_provider_saml2_settings_idp %}\n            <sw-card\n                :title="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.identityProviderCardTitle\')"\n                position-identifier="heptacom-admin-open-auth-provider-saml2-settings-idp"\n            >\n                \n                <sw-url-field\n                    :omitUrlHash="true"\n                    :omitUrlSearch="false"\n                    :disabled="!!item.config.identityProviderMetadataXml"\n                    :label="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.identityProviderMetadataUrl\')"\n                    :help-text="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.identityProviderMetadataUrl-help\')"\n                    :placeholder="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.identityProviderMetadataUrl-placeholder\')"\n                    v-model="item.config.identityProviderMetadataUrl"\n                ></sw-url-field>\n                <sw-textarea-field\n                    :disabled="!!item.config.identityProviderMetadataUrl"\n                    :label="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.identityProviderMetadataXml\')"\n                    :help-text="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.identityProviderMetadataXml-help\')"\n                    v-model="item.config.identityProviderMetadataXml"\n                ></sw-textarea-field>\n\n                \n                <sw-text-field\n                    :disabled="!!item.config.identityProviderMetadataUrl || !!item.config.identityProviderMetadataXml"\n                    :label="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.identityProviderEntityId\')"\n                    v-model="item.config.identityProviderEntityId"\n                ></sw-text-field>\n                <sw-url-field\n                    :omitUrlHash="true"\n                    :omitUrlSearch="true"\n                    :disabled="!!item.config.identityProviderMetadataUrl || !!item.config.identityProviderMetadataXml"\n                    :label="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.identityProviderSsoUrl\')"\n                    v-model="item.config.identityProviderSsoUrl"\n                ></sw-url-field>\n                <sw-textarea-field\n                    :disabled="!!item.config.identityProviderMetadataUrl || !!item.config.identityProviderMetadataXml"\n                    :label="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.identityProviderCertificate\')"\n                    v-model="item.config.identityProviderCertificate"\n                ></sw-textarea-field>\n            </sw-card>\n        {% endblock %}\n\n        {% block heptacom_admin_open_auth_provider_saml2_settings_security %}\n            <sw-card\n                :title="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.security.cardTitle\')"\n                position-identifier="heptacom-admin-open-auth-provider-saml2-settings-security"\n            >\n                <sw-multi-select :label="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.security.requestedAuthnContexts\')"\n                                 :options="availableAuthnContexts"\n                                 placeholder="PasswordProtectedTransport" {# Default from SAML library #}\n                                 v-model="item.config.requestedAuthnContext"\n                >\n                </sw-multi-select>\n            </sw-card>\n        {% endblock %}\n\n        {% block heptacom_admin_open_auth_provider_saml2_settings_attribute_mapping %}\n            <sw-card\n                :title="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.attributeMapping.cardTitle\')"\n                position-identifier="heptacom-admin-open-auth-provider-saml2-settings-attribute-mapping"\n            >\n                {% block heptacom_admin_open_auth_provider_saml2_settings_attribute_mapping_inner %}\n                    <sw-select-field :label="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.attributeMapping.templateSelect\')"\n                                     :placeholder="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.attributeMapping.templateSelect-placeholder\')"\n                                     v-model="selectedMappingTemplate"\n                    >\n                        <option v-for="(mappedAttributes, templateKey) of attributeMappingTemplates" :value="templateKey">\n                            {{ $t(\'heptacomAdminOpenAuthClient.providerFields.saml2.attributeMapping.template.\' + templateKey) }}\n                        </option>\n                    </sw-select-field>\n\n                    <div class="sw-field">\n                        <sw-button\n                            :block="true"\n                            variant="ghost"\n                            size="small"\n                            :disabled="!selectedMappingTemplate"\n                            @click="onApplyMappingTemplate(selectedMappingTemplate)"\n                        >\n                            {{ $t(\'heptacomAdminOpenAuthClient.providerFields.saml2.attributeMapping.templateApply\') }}\n                        </sw-button>\n                    </div>\n\n                    <sw-text-field v-for="mappedProperty of availableProperties"\n                                   :label="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.attributeMapping.field.\' + mappedProperty)"\n                                   v-model="item.config.attributeMapping[mappedProperty]"\n                    ></sw-text-field>\n                {% endblock %}\n            </sw-card>\n        {% endblock %}\n    </div>\n{% endblock %}\n',props:{item:{required:!0}},data:function(){return{selectedMappingTemplate:null,availableProperties:["firstName","lastName","email","timezone","locale"],availableAuthnContexts:["urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified","urn:oasis:names:tc:SAML:2.0:ac:classes:Kerberos","urn:oasis:names:tc:SAML:2.0:ac:classes:Password","urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport","urn:oasis:names:tc:SAML:2.0:ac:classes:Smartcard","urn:oasis:names:tc:SAML:2.0:ac:classes:SmartcardPKI","urn:oasis:names:tc:SAML:2.0:ac:classes:TLSClient","urn:oasis:names:tc:SAML:2.0:ac:classes:TimeSyncToken","urn:oasis:names:tc:SAML:2.0:ac:classes:X509","urn:federation:authentication:windows"].map((function(e){return{value:e,label:e.startsWith("urn:oasis:names:tc:SAML:2.0:ac:classes:")?e.substring("urn:oasis:names:tc:SAML:2.0:ac:classes:".length):e}})),attributeMappingTemplates:{friendlyNames:{firstName:"givenName",lastName:"surName",email:"emailAddress"},x500:{firstName:"urn:oid:2.5.4.42",lastName:"urn:oid:2.5.4.4",email:"urn:oid:1.2.840.113549.1.9.1"},azure:{firstName:"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname",lastName:"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname",email:"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"}}}},watch:{item:function(e){e.config.attributeMapping||(e.config.attributeMapping={})}},methods:{onApplyMappingTemplate:function(e){var t=this.attributeMappingTemplates[e];this.item.config.attributeMapping=Object.assign(this.item.config.attributeMapping,t)}}});function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==F(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===F(a)?a:String(a)),i)}var o,a}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return T(this,n)}}function T(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Shopware.Component.override("heptacom-admin-open-auth-client-edit-page",{template:'{% block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner_store_user_token %}\n    <template v-if="!item || item.provider !== \'saml2\'">\n        {% parent %}\n    </template>\n{% endblock %}\n\n{%  block heptacom_admin_open_auth_client_edit_page_content_base_settings_inner %}\n    {% parent %}\n\n    <template v-if="item && item.provider === \'saml2\'">\n        <sw-textarea-field\n            :disabled="true"\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.serviceProviderCertificate\')"\n            :help-text="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.serviceProviderCertificate-help\')"\n            v-model="item.config.serviceProviderCertificate"\n        ></sw-textarea-field>\n        <sw-textarea-field\n            :disabled="true"\n            :label="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.serviceProviderPublicKey\')"\n            :help-text="$t(\'heptacomAdminOpenAuthClient.providerFields.saml2.serviceProviderPublicKey-help\')"\n            v-model="item.config.serviceProviderPublicKey"\n        ></sw-textarea-field>\n    </template>\n{% endblock %}\n',data:function(){return{selectedMappingTemplate:null,availableProperties:["firstName","lastName","email","timezone","locale"],attributeMappingTemplates:{friendlyNames:{firstName:"givenName",lastName:"surName",email:"emailAddress"},x500:{firstName:"urn:oid:2.5.4.42",lastName:"urn:oid:2.5.4.4",email:"urn:oid:1.2.840.113549.1.9.1"},azure:{firstName:"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname",lastName:"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname",email:"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"}}}},watch:{item:function(e){e&&"saml2"===e.provider&&(e.config.attributeMapping||(e.config.attributeMapping={}))}},methods:{onApplyMappingTemplate:function(e){var t=this.attributeMappingTemplates[e];this.item.config.attributeMapping=Object.assign(this.item.config.attributeMapping,t)}}});var q=Shopware.Classes.ApiService,R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(a,e);var t,n,i,o=N(a);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"heptacom_admin_open_auth_provider";return j(this,a),o.call(this,e,t,n)}return t=a,(n=[{key:"list",value:function(){var e=this.getBasicHeaders();return this.httpClient.get("_action/".concat(this.getApiBasePath(),"/list"),{headers:e}).then((function(e){return q.handleResponse(e)}))}},{key:"factorize",value:function(e){var t=this.getBasicHeaders();return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/factorize"),{provider_key:e},{headers:t}).then((function(e){return q.handleResponse(e)}))}},{key:"getRedirectUri",value:function(e){var t=this.getBasicHeaders();return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/client-redirect-url"),{client_id:e},{headers:t}).then((function(e){return q.handleResponse(e)}))}},{key:"getMetadataUri",value:function(e){var t=this.getBasicHeaders();return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/client-metadata-url"),{client_id:e},{headers:t}).then((function(e){return q.handleResponse(e)}))}}])&&U(t.prototype,n),i&&U(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(q),D=Shopware.Application;D.addServiceProvider("HeptacomAdminOpenAuthProviderApiService",(function(e){var t=D.getContainer("init");return new R(t.httpClient,e.loginService)}))},"4DNk":function(e,t,n){},KnEA:function(e,t){Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"settings",key:"heptacom_admin_open_auth_client",roles:{viewer:{privileges:["heptacom_admin_open_auth_client:read","heptacom_admin_open_auth_user_key:read"],dependencies:[]},editor:{privileges:["heptacom_admin_open_auth_client:update"],dependencies:["heptacom_admin_open_auth_client.viewer"]},creator:{privileges:["heptacom_admin_open_auth_client:create"],dependencies:["heptacom_admin_open_auth_client.editor"]},deleter:{privileges:["heptacom_admin_open_auth_client:delete"],dependencies:["heptacom_admin_open_auth_client.viewer"]}}})},MQGL:function(e,t,n){var i=n("4DNk");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("ydqr").default)("f417a92a",i,!0,{})},RLLC:function(e,t,n){var i=n("UQob");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("ydqr").default)("4476389e",i,!0,{})},UQob:function(e,t,n){},eq75:function(e,t,n){var i=n("tGPJ");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("ydqr").default)("04479866",i,!0,{})},tGPJ:function(e,t,n){},ydqr:function(e,t,n){"use strict";function i(e,t){for(var n=[],i={},o=0;o<t.length;o++){var a=t[o],r=a[0],c={id:e+":"+o,css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(c):n.push(i[r]={id:r,parts:[c]})}return n}n.r(t),n.d(t,"default",(function(){return h}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},r=o&&(document.head||document.getElementsByTagName("head")[0]),c=null,l=0,s=!1,d=function(){},p=null,m="data-vue-ssr-id",u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,n,o){s=n,p=o||{};var r=i(e,t);return f(r),function(t){for(var n=[],o=0;o<r.length;o++){var c=r[o];(l=a[c.id]).refs--,n.push(l)}t?f(r=i(e,t)):r=[];for(o=0;o<n.length;o++){var l;if(0===(l=n[o]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete a[l.id]}}}}function f(e){for(var t=0;t<e.length;t++){var n=e[t],i=a[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(g(n.parts[o]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var r=[];for(o=0;o<n.parts.length;o++)r.push(g(n.parts[o]));a[n.id]={id:n.id,refs:1,parts:r}}}}function _(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function g(e){var t,n,i=document.querySelector("style["+m+'~="'+e.id+'"]');if(i){if(s)return d;i.parentNode.removeChild(i)}if(u){var o=l++;i=c||(c=_()),t=y.bind(null,i,o,!1),n=y.bind(null,i,o,!0)}else i=_(),t=w.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}var v,b=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function y(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var a=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function w(e,t){var n=t.css,i=t.media,o=t.sourceMap;if(i&&e.setAttribute("media",i),p.ssrId&&e.setAttribute(m,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},yr4Z:function(e,t,n){},zpZA:function(e,t,n){var i=n("yr4Z");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("ydqr").default)("35eb2b85",i,!0,{})}});
//# sourceMappingURL=ksk-heptacom-admin-open-auth.js.map